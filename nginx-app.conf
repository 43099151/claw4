# 默认配置：如果不匹配任何域名，显示欢迎页
server {
    listen 80 default_server;
    root /var/www/html/default;
    index index.php index.html;
    server_name _;
    location / { try_files $uri $uri/ =404; }
    location ~ \.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php8.1-fpm.sock; }
}

# --- 网站 1 ---
server {
    listen 80;
    # 请在环境变量 DOMAIN_SITE1 中填入域名，或部署后修改此处
    server_name site1.example.com;
    root /var/www/html/site1;
    index index.php index.html;
    location / { try_files $uri $uri/ =404; }
    location ~ \.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php8.1-fpm.sock; }
}

# --- 网站 2 ---
server {
    listen 80;
    server_name site2.example.com;
    root /var/www/html/site2;
    index index.php index.html;
    location / { try_files $uri $uri/ =404; }
    location ~ \.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php8.1-fpm.sock; }
}

# --- 网站 3 ---
server {
    listen 80;
    server_name site3.example.com;
    root /var/www/html/site3;
    index index.php index.html;
    location / { try_files $uri $uri/ =404; }
    location ~ \.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php8.1-fpm.sock; }
}

# --- 网站 4 ---
server {
    listen 80;
    server_name site4.example.com;
    root /var/www/html/site4;
    index index.php index.html;
    location / { try_files $uri $uri/ =404; }
    location ~ \.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php8.1-fpm.sock; }
}
